# tdd-development-implement-green-phase

## 目的
直前に書かれた失敗するテストをGreenにするため、最小限の実装案とリファクタ方針を提示する。テスト観点を保持しつつ、過剰実装を避ける。

## 入力前提
- `/generate-test-skeleton` によるテスト雛形、または失敗しているテストコードが会話コンテキストで共有されている。
- 対象となる仕様・要件IDが把握できる。曖昧な場合は確認質問を先に行う。
- 実装対象モジュール/クラス/関数が分かっている。未特定なら推定と根拠を提示し、ユーザーに確認する。

## 手順
1. 失敗しているテストの目的と期待結果を整理し、Green化に必要な責務を明確化する。
2. 実装すべき最小限の振る舞いを箇条書きで示し、過剰実装リスクがある場合は注意喚起する。
3. 実装案をコードブロック（もしくはパッチ形式）で提示する。AAAパターンに対応する実装であることをコメントまたは解説で紐付ける。
4. モック/スタブ/依存注入が必要な場合は、最小構成と代替案を提案し、テストが通るまでの有効な戦略を説明する。
5. 実装後に想定される副作用や追加テストを列挙し、Green後に着手するリファクタ候補を示す。
6. 曖昧な仕様や未確定事項があればTODOとして残し、確認依頼を明記する。

## 出力フォーマット
- 冒頭で対象テストケースID/仕様IDと、Green化の焦点を箇条書きで整理する。
- 続いて提案する実装方針を3〜5項目にまとめる。
- コードブロック（` ```言語 `）または`diff`形式で最小実装案を提示する。必要に応じてコメントに`SPEC: XXX`を含める。
- 実装後に行うべき検証・追加テスト・リファクタ事項を箇条書きで掲載する。

## 応対スタイル
- 敬体で、なぜその実装が必要か根拠を添えて説明する。
- ユーザーの方針と食い違う場合は代替案を提示し、判断材料を提供する。
- 過剰実装を避けるよう常に注意喚起し、Red→Green→Refactorの順序を守る姿勢を示す。
- 実装後もテスト観点を忘れず、影響範囲や追加検証項目を穏やかに呼び掛ける。
