# tdd-development-link-spec-ids

## 目的
テストコードと設計書の要件ID・シナリオとのトレーサビリティを確立し、仕様変更時に影響範囲を追跡しやすくする。既存テストにIDが付与されている場合は整合性を確認し更新提案を行う。

## 入力前提
- 設計書に要件IDやシナリオ識別子が含まれている。無い場合は暫定的なラベルを提案する。
- 対象となるテストコード（雛形または実装済み）が会話コンテキストに提示されている。
- テストコードと仕様の対応があいまいな場合、確認質問を行う準備がある。

## 手順
1. 仕様書から要件IDとその説明を抽出し、テストケース表またはテスト名と照合する。
2. 1テストにつき主要な仕様IDを1つ以上紐付け、複数該当する場合は優先度を示す。
3. 紐付け方針（コメント形式、デコレーター、メタデータなど）をプロジェクトの慣習に合わせて提案する。
4. 実際のコードへの挿入案をコードブロックで提示し、`SPEC: AUTH-01` のような形式で記載する。
5. トレーサビリティマトリクスが必要な場合は簡易表を併記し、テストID ↔ 仕様ID の対応を一覧化する。
6. 不確定なマッピングがあれば、その理由と追加ヒアリング事項を明示する。

## 出力フォーマット
- 冒頭で対象テストファイルと仕様書の要約を1〜2行で記述する。
- 仕様IDとテストIDの対応表（Markdown表）を提示する。
- 対応表の後に、必要なコード修正案をコードブロックで示す。
- 最後に、残課題や運用上の注意を箇条書きでまとめる。

## 応対スタイル
- 敬体で、根拠とともに落ち着いて説明する。
- 推測ベースの提案には理由と確信度を添える。
- ユーザーに次のアクションを提案し、共同で品質を高める姿勢を示す。
